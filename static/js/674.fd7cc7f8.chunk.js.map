{"version":3,"file":"static/js/674.fd7cc7f8.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/Button/Button.module.css?4d6c","shared/components/Button/Button.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/Loader/Loader.module.css?b4a0","shared/components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/MovieList/MovieList.module.css?59c5","shared/components/MovieList/MovieList.jsx","shared/services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"HomePage_wrapper__fbr7T\",\"title\":\"HomePage_title__UFLA3\"};","import { useState, useEffect, useCallback } from 'react';\nimport { fetchTrendMovies } from '../../shared/services/moviesApi';\nimport MovieList from 'shared/components/MovieList/MovieList';\nimport Loader from 'shared/components/Loader/Loader';\nimport Button from 'shared/components/Button/Button';\n\nimport css from './HomePage.module.css';\n\nconst HomePage = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await fetchTrendMovies(page);\n\n        setItems(prevItems => [...prevItems, ...data.results]);\n        setPage(1);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [page, setItems, setLoading, setError]);\n\n  const loadMore = useCallback(() => {\n    setPage(prevPage => prevPage + 1);\n  }, []);\n\n  return (\n    <div className={css.wrapper}>\n      <h1 className={css.title}>Trending today</h1>\n      {loading && <Loader />}\n      {error && <p>Something goes wrong...</p>}\n      {Boolean(items.length) && <MovieList items={items} />}\n      {Boolean(items.length) && (\n        <Button text=\"Load more\" clickHandler={loadMore} />\n      )}\n    </div>\n  );\n};\n\nexport default HomePage;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__wi4ey\"};","import PropTypes from 'prop-types';\nimport css from './Button.module.css';\n\nconst Button = ({ text, clickHandler }) => {\n  return (\n    <button className={css.btn} type=\"button\" onClick={clickHandler}>\n      {text}\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  clickHandler: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__r-tO0\"};","import { ColorRing } from 'react-loader-spinner';\n\nimport css from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={css.loader}>\n      <ColorRing\n        visible={true}\n        height=\"180\"\n        width=\"180\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__q3xA-\",\"link\":\"MovieList_link__wvIYb\"};","import PropTypes from 'prop-types';\nimport { memo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MovieList.module.css';\n\nconst MovieList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, name, title }) => (\n    <Link\n      className={css.link}\n      key={id}\n      to={`/movies/${id}`}\n      state={{ from: location }}\n    >\n      <li>\n        {name} {title}\n      </li>\n    </Link>\n  ));\n\n  return (\n    <>\n      <ul className={css.list}>{elements}</ul>\n    </>\n  );\n};\n\nexport default memo(MovieList);\n\nMovieList.defaultProps = {\n  items: [],\n};\n\nMovieList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string,\n      title: PropTypes.string,\n    })\n  ),\n};\n","import axios from 'axios';\n\nconst KEY = 'c78419a450ee7857724cd10a5beb7b65';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nexport const imgUrl = 'https://image.tmdb.org/t/p/original';\n\nexport async function fetchTrendMovies() {\n  const response = await axios('/trending/all/day', {\n    params: {\n      api_key: KEY,\n      page: 1,\n    },\n  });\n\n  return response;\n}\n\nexport async function fetchMovieDetails(id) {\n  const response = await axios(`/movie/${id}`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n\n  return response;\n}\n\nexport async function fetchMovieDetailsCast(id) {\n  const response = await axios(`/movie/${id}/credits`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n\n  return response;\n}\n\nexport async function fetchMovieDetailsReview(id) {\n  const response = await axios(`/movie/${id}/reviews`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n\n  return response;\n}\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: KEY,\n  },\n});\n\nexport const fetchSearchMovie = async (query, page = 1) => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      query,\n      page,\n    },\n  });\n  return data;\n};\n"],"names":["useState","items","setItems","loading","setLoading","error","setError","page","setPage","useEffect","fetchMovies","fetchTrendMovies","data","prevItems","results","message","loadMore","useCallback","prevPage","className","css","Loader","Boolean","length","MovieList","Button","text","clickHandler","type","onClick","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","location","useLocation","elements","map","id","name","title","to","state","from","memo","defaultProps","KEY","axios","imgUrl","params","api_key","response","fetchMovieDetails","fetchMovieDetailsCast","fetchMovieDetailsReview","instance","baseURL","fetchSearchMovie","query","get"],"sourceRoot":""}